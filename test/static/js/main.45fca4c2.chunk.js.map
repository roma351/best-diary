{"version":3,"sources":["panels/Home.js","panels/Persik.js","panels/Auth.js","panels/Story.js","App.js","index.js","img/persik.png"],"names":["Home","props","window","location","search","React","useState","name","vendor","userSchool","setUserSchool","userVend","setUserVend","setSource","showSchools","setShowSchools","dropdown","useRef","schools","setSchools","id","top","onChange","event","data","target","value","console","log","className","fetch","then","response","json","result","map","item","region","name2","getdata","catch","error","Error","onFocus","current","classList","add","onBlur","setTimeout","remove","placeholder","ref","length","school","index","onClick","key","type","title","size","level","goo","weight","style","marginBottom","fetch_log","osName","platform","Persik","left","go","data-to","IOS","src","persik","alt","Auth","closePopout","pop","mode","description","fetch_ranking","before","fetch_avatar","fetch_user","display","stretched","marginRight","actionsLayout","actions","autoclose","action","goes","onClose","href","Story","element","document","getElementsByClassName","html2canvas","allowTaint","canvas","a","blob","toDataURL","shareStory","acti","bridge","send","App","activePanel","setActivePanel","fetchedUser","setUser","popout","setPopout","setError","setIsLoaded","secret_code","setSecret_code","setFetch_user","setFetch_avatar","setFetch_ranking","setFetch_log","fetch_sign","setFetch_sign","promoBannerProps","setPromoBannerProps","useEffect","user","subscribe","detail","schemeAttribute","createAttribute","scheme","body","attributes","setNamedItem","fetchData","method","headers","Headers","encodeURIComponent","hash","res","btoa","source","profile","code","secret_code_local","first_name","last_name","avatar","promoBannerProps3","ranking","averageMark","place","error_msg","e","currentTarget","dataset","to","sleep","ms","Promise","resolve","ref_story","background_type","attachment","url","text","login_sh","getElementById","password_sh","source_sh","vend","ReactDOM","render","module","exports"],"mappings":"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","file":"static/js/main.45fca4c2.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport { FormLayout, FormLayoutGroup, Input, Select, Checkbox, Link, Title, Header, Spinner } from '@vkontakte/vkui';\nimport \"../layout/css/file.css\"\nimport {useDispatch} from \"react-redux\";\n\nconst Home = props => {\n\tconst vkParam=window.location.search\n    const [userLogin, setUserLogin]=React.useState('');\n    const [isLoaded, setIsLoaded]=React.useState(false);\n    const [userPassword, setUserPassword]=React.useState('');\n    const [userSchool, setUserSchool]=React.useState({name: \"\", vendor: \"\"});\n    const [userVend, setUserVend]=React.useState('');\n    const [source, setSource]=React.useState('1');\n    const [massage, setMassage]=React.useState('');\n    const [showSchools, setShowSchools]=React.useState(false);\n    const dropdown=React.useRef();\n    const [schools, setSchools]=React.useState([]);\n    const change=(data)=>{\n        fetch(\"https://likeee.online/api2/login.php?source=3&q=\"+data+\"&search=1\").then(response=>response.json())\n            .then((result)=>{\n                setSchools(getdata(result, data));\n            }).catch(error=>{throw new Error(\"Ошибка: \" + error)});\n        setUserSchool(data);\n    }\n    function getdata(result, data) {\n        if (!data)\n            return []\n        const items=result.data.map(item=>{\n            return {\n                name: item.name,\n                vendor: item.vendor,\n                region: item.name2,\n            }\n        })\n        return items\n    }\n\n\tfunction changeDiary(data) {\n        if (data==3){\n        \tconsole.log(data);\n            setShowSchools(true);\n        } else setShowSchools(false);\n        setSource(data);\n    }\n\treturn (\n\t\t<Panel id={props.id}>\n\t\t\t<PanelHeader>Авторизация</PanelHeader>\n\t\t\t<FormLayout>\n\t\t\t\t<FormLayoutGroup top=\"Дневник\">\n\t\t      \t\t<Select id=\"source_sh\" onChange={(event) => changeDiary(event.target.value)} >\n\t\t\t\t\t  <option value=\"1\" >school.mosreg.ru</option>\n\t\t\t\t\t  <option value=\"2\" >dnevnik.ru</option>\n\t\t\t\t\t  <option value=\"3\" >eljur.ru</option>\n\t\t\t\t\t  <option value=\"5\" >petersburgedu.ru</option>\n\t\t\t\t\t  <option value=\"6\" >edu.gounn.ru</option>\n\t\t\t\t\t  <option value=\"8\" >kundelik.kz</option>\n\t\t\t\t\t</Select>\n\t\t\t\t</FormLayoutGroup>\n\t\t\t\t\t      \t\t\t{showSchools&&<>\n\t\t\t\t\t    <FormLayoutGroup top=\"Выберите номер школы:\">\n\t\t\t\t        <Input className=\"input\" value={userSchool.name} onChange={(event) => {\n\t\t\t\t\t            change(event.target.value)\n\t\t\t\t\t        }} onFocus={() => {\n\t\t\t\t\t            dropdown.current.classList.add(\"active\")\n\t\t\t\t\t        }} onBlur={() => {\n\t\t\t\t\t            setTimeout(() => {\n\t\t\t\t\t                dropdown.current.classList.remove(\"active\")\n\t\t\t\t\t            }, 100);\n\t\t\t\t\t        }} placeholder=\"Введите название школы\"/>\n\t\t\t\t\t        </FormLayoutGroup>\n\t\t\t\t        <div className=\"dropdown\" ref={dropdown}>\n\t\t\t\t        {schools.length &&\n\t\t\t\t        <>\n\t\t\t\t            {schools.map((school, index) => (\n\t\t\t\t                <div onClick={(event) => {\n\t\t\t\t                    setUserSchool(school)\n\t\t\t\t                    setUserVend(school.vendor)\n\t\t\t\t                }} key={index}><div>{school.name}</div><div>{school.region}</div></div>\n\t\t\t\t            ))}\n\t\t\t\t        </>\n\t\t\t\t        }\n\t\t\t\t        </div>\n\t\t\t\t        </>\n\t\t\t\t        }\n\t      \t\t<FormLayoutGroup top=\"Авторизация\">\n\t\t\t        <Input id=\"login_sh\" type=\"text\" placeholder=\"Логин\" />\n\t\t\t        <Input id=\"password_sh\" type=\"password\" placeholder=\"Пароль\" />\n\t\t\t        <input id=\"vend\" type=\"hidden\" value={userVend}/>\n\t      \t\t</FormLayoutGroup>\n\t    \t</FormLayout>\n\t\t\t<Group title=\"Navigation Example\">\n\t\t\t\t<Div>\n\t\t\t\t\t<Button size=\"xl\" level=\"2\" onClick={props.goo}>\n\t\t\t\t\t\tВойти\n\t\t\t\t\t</Button>\n\t\t\t\t</Div>\n\t\t\t</Group>\n\t\t\t<Div>\n\t\t\t\t<Title id=\"lol2\" level=\"3\" weight=\"semibold\" style={{ marginBottom: 16 }}>{props.fetch_log}</Title>\n\t\t\t</Div>\n\t\t</Panel>\n\t);\n}\n//<Checkbox id=\"legal_sh\">Я согласен со всем, что вы <Link href=\"https://google.com\" target=\"_blank\">там</Link> понаписали</Checkbox>\nexport default Home;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport persik from '../img/persik.png';\nimport './Persik.css';\n\nconst osName = platform();\n\nconst Persik = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader\n\t\t\tleft={<PanelHeaderButton onClick={props.go} data-to=\"auth\">\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t\t</PanelHeaderButton>}\n\t\t>\n\t\t\tPersik\n\t\t</PanelHeader>\n\t\t<img className=\"Persik\" src={persik} alt=\"Persik The Cat\"/>\n\t</Panel>\n);\n\nPersik.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default Persik;\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS } from '@vkontakte/vkui';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport bridge from '@vkontakte/vk-bridge';\r\n//import Icon56UsersOutline from '@vkontakte/icons/dist/56/UsersOutline';\r\nimport persik from '../img/persik.png';\r\nimport './Persik.css';\r\nimport { Div, Placeholder, Button, Header, Avatar, Group, SimpleCell, FixedLayout, PromoBanner, Alert} from '@vkontakte/vkui';\r\nimport Icon28StoryOutline from '@vkontakte/icons/dist/28/story_outline';\r\nimport Icon24ImageFilterOutline from '@vkontakte/icons/dist/24/image_filter_outline';\r\nimport html2canvas from 'html2canvas';\r\n\r\nconst osName = platform();\r\nconst photo = \"https://sun9-43.userapi.com/impg/-r0YyeD5utUcBaeG0XTACi7UlAAaTx6_nabKNg/FIrkho4B9fY.jpg?size=200x0&quality=88&crop=0,0,946,946&sign=5d417c2dbb7a5a4e3331c9928aca150e&c_uniq_tag=SqcaxtNqpn-j-qhK73PLzya-V_9tvaPJCX-c3BRBkkI&ava=1\";\r\nconst averageMark = \"3.76\";\r\nconst vk_name = \"\";\r\nfunction to_bot(){\r\n    window.open(\"https://vk.me/club198596704\", \"_blank\");\r\n}\r\nfunction share_vk(){\r\n    \r\n}\r\nconst Auth = props => {\r\n\tconst promoBannerProps2 = {\r\n\t  title: 'Заголовок',\r\n\t  domain: 'vk.com',\r\n\t  trackingLink: 'https://vk.com',\r\n\t  ctaText: 'Перейти',\r\n\t  advertisingLabel: 'Реклама',\r\n\t  iconLink: 'https://sun9-7.userapi.com/c846420/v846420985/1526c3/ISX7VF8NjZk.jpg',\r\n\t  description: 'Описание рекламы',\r\n\t  ageRestrictions: 14,\r\n\t  statistics: [\r\n\t    { url: '', type: 'playbackStarted' },\r\n\t    { url: '', type: 'click' }\r\n\t  ]\r\n\t};\r\n\tfunction exit(){\r\n\t\tprops.pop(<Alert\r\n        actionsLayout=\"vertical\"\r\n        actions={[{\r\n          title: 'Выйти',\r\n          autoclose: true,\r\n          mode: 'destructive',\r\n          action: () => props.goes(),\r\n        }, {\r\n          title: 'Отмена',\r\n          autoclose: true,\r\n          mode: 'cancel'\r\n        }]}\r\n        onClose={closePopout}\r\n      >\r\n        <h2>Подтвердите действие</h2>\r\n        <p>Вы уверены, что хотите выйти из приложения?</p>\r\n      </Alert>)\r\n\t\t//props.pop(null);\r\n\t\t//props.goes\r\n\t}\r\n\tfunction shareStory(){\r\n\t\tprops.acti(\"story\");\r\n\r\n\t}\r\n\tfunction closePopout(){\r\n\t\tprops.pop(null);\r\n\t}\r\n\t/*<FixedLayout vertical=\"bottom\">\r\n\t\t      { props.promoBannerProps && <PromoBanner bannerData={ props.promoBannerProps } /> }\r\n\t\t  </FixedLayout>*/\r\n\t/*<Div>\r\n\t\t       \t\t<Button size=\"l\" stretched onClick={shareStory} before={<Icon28StoryOutline/>} mode=\"commerce\">Поделиться в истории</Button>\r\n\t\t       \t</Div>*/\r\n\treturn (\r\n\t\t<Panel id={props.id}>\r\n\t\t\t<PanelHeader>\r\n\t\t\t\tДневник\r\n\t\t\t</PanelHeader>\r\n\t\t\t<Group>\r\n\t        <Header mode=\"secondary\">Информация</Header>\r\n\t        <SimpleCell\r\n\t          description={props.fetch_ranking}\r\n\t          before={<Avatar id=\"ava12\" src={props.fetch_avatar}/>}\r\n\t        >\r\n\t          {props.fetch_user}\r\n\t        </SimpleCell>\r\n\t        <Group>\r\n\t\t       <Div style={{display: 'flex'}}>\r\n\t\t       \t\t<Button size=\"l\" stretched mode=\"destructive\" style={{ marginRight: 8 }} onClick={exit} data-to=\"home\" style={{ marginRight: 8 }}>Выход</Button>\r\n\t\t       \t\t<Button size=\"l\" stretched href=\"https://vk.me/club198596704\" target=\"_blank\">Далее</Button>\r\n\t\t       \t</Div>\r\n\t\t     </Group>\r\n\t      </Group>\r\n\t\t</Panel>\r\n\t);\r\n}\r\n/*\t<Div>\r\n\t       \t\t<Button mode=\"commerce\" size=\"xl\" onClick={props.go} data-to=\"persik\">Поделиться успеваемостью</Button>\r\n\t     \t</Div>*/\r\n\r\nexport default Auth;\r\n/*<PanelHeader\r\n\t\t\tleft={<PanelHeaderButton onClick={props.go} data-to=\"home\">\r\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t\t</PanelHeaderButton>}\r\n\t\t>\r\n\t\t\tДневник\r\n\t\t</PanelHeader>*//*<FixedLayout vertical=\"bottom\">\r\n\t      <PromoBanner bannerData={promoBannerProps} />\r\n\t    </FixedLayout>*/","import React from 'react';\r\nimport { Div, Placeholder, Button, Header, Avatar, Group, SimpleCell, FixedLayout, PromoBanner, Alert} from '@vkontakte/vkui';\r\nimport { platform, IOS } from '@vkontakte/vkui';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon28StoryOutline from '@vkontakte/icons/dist/28/story_outline';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport html2canvas from 'html2canvas';\r\n\r\n\r\n\r\nconst Story = props => {\r\n\tfunction rand() {\r\n\t\tlet element = document.getElementsByClassName('View__panels')[0];\r\n\t\thtml2canvas(element, { allowTaint: true }).then(async canvas => {\r\n\t\t\tlet blob = canvas.toDataURL('image/png');\r\n\t\t\tconsole.log(\"1337\");\r\n\t\t\tprops.shareStory(blob);\r\n\t\t});\r\n\t}\r\n\tfunction back() {\r\n\t\tprops.acti(\"auth\");\r\n\t}\r\n\treturn (\r\n\t\t<Panel id=\"story\">\r\n\t        <Group>\r\n\t        \t<Div style={{display: 'flex'}}>\r\n\t\t       \t\t<Button size=\"l\" stretched onClick={rand} before={<Icon28StoryOutline/>} mode=\"commerce\">Поделиться в истории</Button>\r\n\t\t       \t</Div>\r\n\t\t       \t<Div>\r\n\t\t       \t\t<Button size=\"l\" stretched onClick={back}>Назад</Button>\r\n\t\t       \t</Div>\r\n\t\t    </Group>\r\n\t\t</Panel>\r\n\r\n\t)\r\n}\r\nexport default Story;","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport Persik from './panels/Persik';\nimport Auth from './panels/Auth';\nimport Story from './panels/Story';\n\nconst cuda = \"home\";\nlet group_id = 198596704;\nbridge.send('VKWebAppInit');\nbridge.send(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": group_id});\nbridge.send(\"VKWebAppJoinGroup\", {\"group_id\": group_id});\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState(cuda);\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\tconst [error, setError] = useState(null);\n\tconst [isLoaded, setIsLoaded] = useState(false);\n\tconst [items, setItems] = useState([]);\n\tconst [secret_code, setSecret_code] = useState(null);\n\tconst [fetch_user, setFetch_user] = useState(null);\n\tconst [fetch_avatar, setFetch_avatar] = useState(null);\n\tconst [fetch_ranking, setFetch_ranking] = useState(null);\n\tconst [fetch_log, setFetch_log] = useState(null);\n\tconst [fetch_sign, setFetch_sign] = useState(null);\n\tconst [promoBannerProps, setPromoBannerProps]=React.useState(null);\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t\t//console.log(type);\n\t\t\t//console.log(data);\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t\tfetch(\"https://likeee.online/api2/login.php\", {\n\t\t\tmethod: 'POST',\n\t\t\theaders: new Headers({\n             'Content-Type': 'application/x-www-form-urlencoded', // <-- Specifying the Content-Type\n    \t\t}),\n\t\t\tbody: \"params_vk=\" + encodeURIComponent(window.location.search) + \"&payload=\" + encodeURIComponent(window.location.hash) // <-- Post parameters\n\t\t})\n\t\t      .then(res => res.json())\n\t\t      .then(\n\t\t        (result) => {\n\t\t        \tsetFetch_sign(\"\");\n\t\t        \tlet url_re = \"https://login.school.mosreg.ru/oauth2?response_type=token&client_id=594df05cfea34e66994960ae72a2150d&scope=Schools,Relatives,EduGroups,Lessons,marks,EduWorks,Avatar&redirect_uri=https://roma351.github.io/best-diary/get_code.html&state=\"\n\t\t        \tsetFetch_sign(url_re + btoa(window.location.search) + \"&cc_key=\");\n\t\t          setIsLoaded(true);\n\t\t          //console.log(result);\n\t\t          setPopout(null);\n\t\t          if (result.response == \"ok\"){\n\t\t          \tlet source = result.data.profile.source;\n\t\t          \tsetSecret_code(\"\");\n\t\t          \tsetFetch_user(\"\");\n\t\t          \tsetFetch_avatar(\"\");\n\t\t          \tsetFetch_ranking(\"\");\n\t\t          \tsetSecret_code(result.data.profile.code);//result.data.profile.code\n\t\t          \tconst secret_code_local = result.data.profile.code;\n\t\t          \tif (true){\n\t\t\t          \tsetActivePanel(\"auth\");\n\t\t\t          \tfetch(\"https://likeee.online/api2/context.php?code=\" + encodeURIComponent(secret_code_local))\n\t\t\t\t\t      .then(res => res.json())\n\t\t\t\t\t      .then(\n\t\t\t\t\t        (result) => {\n\t\t\t\t\t          setIsLoaded(true);\n\t\t\t\t\t          //console.log(result);\n\t\t\t\t\t          if (result.response == \"ok\"){\n\t\t\t\t\t          \tsetFetch_user(result.data.first_name + \" \" + result.data.last_name);\n\t\t\t\t\t          \tsetFetch_avatar(result.data.avatar);\n\t\t\t\t\t          \tconsole.log(\"1234\");\n\t\t\t\t\t          \tbridge.send('VKWebAppGetAds', {})\n\t\t\t\t\t\t\t\t    .then((promoBannerProps3) => {\n\t\t\t\t\t\t\t\t    \tconsole.log(promoBannerProps3);\n\t\t\t\t\t\t\t\t        setPromoBannerProps({ promoBannerProps3 });\n\t\t\t\t\t\t\t\t    })\n\t\t\t\t\t          \t////\n\t\t\t\t\t          \tfetch(\"https://likeee.online/api2/rating.php?type=isOnly&code=\" + encodeURIComponent(secret_code_local))\n\t\t\t\t\t\t\t      .then(res => res.json())\n\t\t\t\t\t\t\t      .then(\n\t\t\t\t\t\t\t        (result) => {\n\t\t\t\t\t\t\t          setIsLoaded(true);\n\t\t\t\t\t\t\t          //console.log(result);\n\t\t\t\t\t\t\t          if (result.response == \"ok\"){\n\t\t\t\t\t\t\t          \tif (source == \"mosreg\"){\n\t\t\t\t\t\t\t          \t\tsetFetch_ranking(result.data.ranking.averageMark + \" / \" + result.data.ranking.place + \" место\");\n\t\t\t\t\t\t\t          \t}else{\n\t\t\t\t\t\t\t          \t\tsetFetch_ranking(result.data.ranking.averageMark);\n\t\t\t\t\t\t\t          \t}\n\t\t\t\t\t\t\t          \t//console.log(\"Все супер\");\n\t\t\t\t\t\t\t          }else{\n\t\t\t\t\t\t\t          \t//console.log(\"Пизда\");\n\t\t\t\t\t\t\t          }\n\t\t\t\t\t\t\t        },\n\t\t\t\t\t\t\t        // Примечание: Обрабатывать ошибки необходимо именно здесь\n\t\t\t\t\t\t\t        // вместо блока catch(), чтобы не пропустить\n\t\t\t\t\t\t\t        // исключения из реальных ошибок в компонентах.\n\t\t\t\t\t\t\t        (error) => {\n\t\t\t\t\t\t\t          setIsLoaded(true);\n\t\t\t\t\t\t\t          setError(error);\n\t\t\t\t\t\t\t        }\n\t\t\t\t\t\t\t      )\n\t\t\t\t\t          \t////\n\t\t\t\t\t          \t//console.log(\"Все супер\");\n\t\t\t\t\t          }else{\n\t\t\t\t\t          \t//console.log(\"Пизда\");\n\t\t\t\t\t          }\n\t\t\t\t\t        },\n\t\t\t\t\t        // Примечание: Обрабатывать ошибки необходимо именно здесь\n\t\t\t\t\t        // вместо блока catch(), чтобы не пропустить\n\t\t\t\t\t        // исключения из реальных ошибок в компонентах.\n\t\t\t\t\t        (error) => {\n\t\t\t\t\t          setIsLoaded(true);\n\t\t\t\t\t          setError(error);\n\t\t\t\t\t        }\n\t\t\t\t\t      )\n\t\t          \t//setActivePanel(\"auth\");\n\t\t          \t//console.log(\"Все супер\");\n\t\t          \t}\n\t\t          }else{\n\t\t          \tif (result.error != \"not_auth\"){\n\t\t          \t\tsetFetch_log(result.error_msg);\n\t\t          \t}\n\t\t          \t//console.log(\"Пизда\");\n\t\t          }\n\t\t        },\n\t\t        // Примечание: Обрабатывать ошибки необходимо именно здесь\n\t\t        // вместо блока catch(), чтобы не пропустить\n\t\t        // исключения из реальных ошибок в компонентах.\n\t\t        (error) => {\n\t\t        \tsetFetch_log(\"Ошибка сервера\");\n\t\t          setIsLoaded(true);\n\t\t          setError(error);\n\t\t        }\n\t\t      )\n\t}, []);\n\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\tif (secret_code != \"\"){\n\t\t//console.log(\"нихуя\");\n\t}\n\tconst goo = e => {\n\t\tsetPopout(<ScreenSpinner size='large' />);\n\t\tconst login_sh = document.getElementById(\"login_sh\").value;\n\t\tconst password_sh = document.getElementById(\"password_sh\").value;\n\t\tconst source_sh = document.getElementById(\"source_sh\").value;\n\t\tconst vend = document.getElementById(\"vend\").value;\n\t\t//console.log(\"Авторизация \" + login_sh + \" \" + password_sh + \" \" + source_sh);\n\t\tfetch(\"https://likeee.online/api2/login.php\", {\n\t\t\tmethod: 'POST',\n\t\t\theaders: new Headers({\n             'Content-Type': 'application/x-www-form-urlencoded', // <-- Specifying the Content-Type\n    \t\t}),\n\t\t\tbody: \"vendor=\" + encodeURIComponent(vend) + \"&login=\" + encodeURIComponent(login_sh) + \"&password=\" + encodeURIComponent(password_sh) + \"&source=\" + encodeURIComponent(source_sh) + \"&params_vk=\" + encodeURIComponent(window.location.search) + \"&payload=\" + encodeURIComponent(window.location.hash) // <-- Post parameters\n\t\t})\n\t\t      .then(res => res.json())\n\t\t      .then(\n\t\t        (result) => {\n\t\t          setIsLoaded(true);\n\t\t          //console.log(result);\n\t\t          setPopout(null);\n\t\t          if (result.response == \"ok\"){\n\t\t          \tlet source = result.data.profile.source;\n\t\t          \tsetFetch_log(\"\");\n\t\t          \tsetSecret_code(\"\");\n\t\t          \tsetFetch_user(\"\");\n\t\t          \tsetFetch_avatar(\"\");\n\t\t          \tsetFetch_ranking(\"\");\n\t\t          \tsetSecret_code(result.data.profile.code);//result.data.profile.code\n\t\t          \tconst secret_code_local = result.data.profile.code;\n\t\t          \tsetActivePanel(\"auth\");\n\t\t          \tfetch(\"https://likeee.online/api2/context.php?code=\" + encodeURIComponent(secret_code_local))\n\t\t\t\t\t      .then(res => res.json())\n\t\t\t\t\t      .then(\n\t\t\t\t\t        (result) => {\n\t\t\t\t\t          setIsLoaded(true);\n\t\t\t\t\t          //console.log(result);\n\t\t\t\t\t          if (result.response == \"ok\"){\n\t\t\t\t\t          \tsetFetch_user(result.data.first_name + \" \" + result.data.last_name);\n\t\t\t\t\t          \tsetFetch_avatar(result.data.avatar);\n\t\t\t\t\t          \tconsole.log(\"12345\");\n\t\t\t\t\t          \tbridge.send('VKWebAppGetAds', {})\n\t\t\t\t\t\t\t\t    .then((promoBannerProps3) => {\n\t\t\t\t\t\t\t\t    \tconsole.log(promoBannerProps3);\n\t\t\t\t\t\t\t\t        setPromoBannerProps({ promoBannerProps3 });\n\t\t\t\t\t\t\t\t    })\n\t\t\t\t\t          \t//setActivePanel(\"auth\");\n\t\t\t\t\t          \t////\n\t\t\t\t\t          \tfetch(\"https://likeee.online/api2/rating.php?type=isOnly&code=\" + encodeURIComponent(secret_code_local))\n\t\t\t\t\t\t\t      .then(res => res.json())\n\t\t\t\t\t\t\t      .then(\n\t\t\t\t\t\t\t        (result) => {\n\t\t\t\t\t\t\t          setIsLoaded(true);\n\t\t\t\t\t\t\t          //console.log(result);\n\t\t\t\t\t\t\t          if (result.response == \"ok\"){\n\t\t\t\t\t\t\t          \tif (source == \"mosreg\"){\n\t\t\t\t\t\t\t          \t\tsetFetch_ranking(result.data.ranking.averageMark + \" / \" + result.data.ranking.place + \" место\");\n\t\t\t\t\t\t\t          \t}else{\n\t\t\t\t\t\t\t          \t\tsetFetch_ranking(result.data.ranking.averageMark);\n\t\t\t\t\t\t\t          \t}\n\t\t\t\t\t\t\t          \t//console.log(\"Все супер\");\n\t\t\t\t\t\t\t          }else{\n\t\t\t\t\t\t\t          \t//console.log(\"Пизда\");\n\t\t\t\t\t\t\t          }\n\t\t\t\t\t\t\t        },\n\t\t\t\t\t\t\t        // Примечание: Обрабатывать ошибки необходимо именно здесь\n\t\t\t\t\t\t\t        // вместо блока catch(), чтобы не пропустить\n\t\t\t\t\t\t\t        // исключения из реальных ошибок в компонентах.\n\t\t\t\t\t\t\t        (error) => {\n\t\t\t\t\t\t\t          setIsLoaded(true);\n\t\t\t\t\t\t\t          setError(error);\n\t\t\t\t\t\t\t        }\n\t\t\t\t\t\t\t      )\n\t\t\t\t\t          \t////\n\t\t\t\t\t          \t//console.log(\"Все супер\");\n\t\t\t\t\t          }else{\n\t\t\t\t\t          \t//setActivePanel(\"auth\");\n\t\t\t\t\t          \t//console.log(\"Пизда\");\n\t\t\t\t\t          }\n\t\t\t\t\t        },\n\t\t\t\t\t        // Примечание: Обрабатывать ошибки необходимо именно здесь\n\t\t\t\t\t        // вместо блока catch(), чтобы не пропустить\n\t\t\t\t\t        // исключения из реальных ошибок в компонентах.\n\t\t\t\t\t        (error) => {\n\t\t\t\t\t          setIsLoaded(true);\n\t\t\t\t\t          setError(error);\n\t\t\t\t\t        }\n\t\t\t\t\t      )\n\t\t          \t//setActivePanel(\"auth\");\n\t\t          \t//console.log(\"Все супер\");\n\t\t          }else{\n\t\t          \tsetFetch_log(result.error_msg);\n\t\t          \t//console.log(\"Пизда\");\n\t\t          }\n\t\t        },\n\t\t        // Примечание: Обрабатывать ошибки необходимо именно здесь\n\t\t        // вместо блока catch(), чтобы не пропустить\n\t\t        // исключения из реальных ошибок в компонентах.\n\t\t        (error) => {\n\t\t        \tsetFetch_log(\"Ошибка сервера\");\n\t\t          setIsLoaded(true);\n\t\t          setError(error);\n\t\t        }\n\t\t      )\n\t\t//setActivePanel(\"auth\");\n\t}\n\tconst goes = e => {\n\t\t//console.log(\"logout: \" + secret_code);\n\t\tfetch(\"https://likeee.online/api2/login.php?logout=1&code=\" + encodeURIComponent(secret_code))\n\t\t      .then(res => res.json())\n\t\t      .then(\n\t\t        (result) => {\n\t\t          setIsLoaded(true);\n\t\t          //console.log(result);\n\t\t          if (result.response == \"ok\"){\n\t\t          \tsetFetch_log(\"\");\n\t\t          \tsetSecret_code(\"\");\n\t\t          \tsetFetch_user(\"\");\n\t\t          \tsetFetch_avatar(\"\");\n\t\t          \tsetFetch_ranking(\"\");\n\t\t          \tsetActivePanel(\"home\");\n\t\t          \t//console.log(\"Все супер\");\n\t\t          }else{\n\t\t          \tconsole.log(\"Пизда\");\n\t\t          }\n\t\t        },\n\t\t        // Примечание: Обрабатывать ошибки необходимо именно здесь\n\t\t        // вместо блока catch(), чтобы не пропустить\n\t\t        // исключения из реальных ошибок в компонентах.\n\t\t        (error) => {\n\t\t          setIsLoaded(true);\n\t\t          setError(error);\n\t\t        }\n\t\t      )\n\t\tsetActivePanel(\"home\");\n\t}\n\tconst pop = e => {\n\t\tconsole.log(e);\n\t\tsetPopout(e)\n\t}\n\tconst acti = e => {\n\t\tconsole.log(e);\n\t\tsetActivePanel(e);\n\t}\n\tasync function sleep(ms){\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\tconst shareStory = async blob => {\n\t\ttry{\n\t\t\t//console.log(blob);\n\t\t\t\tlet ref_story = \"story|\" + fetchedUser.id;\n\t\t\t\tawait sleep(250);\n\t\t\t\tlet resp = await bridge.send('VKWebAppShowStoryBox', { background_type: 'image', blob, attachment: { url: 'https://vk.com/app7591649#ref=' + ref_story, text: 'open', type: 'url' } });\n\t\t\t\t//this.setState({ shared: true });\n\t\t\t}catch (e) {}\n\t}\n\treturn (\n\t\t<View activePanel={activePanel} popout={popout}>\n\t\t\t<Home id='home' go={go} goo={goo} fetch_log={fetch_log} fetch_sign={fetch_sign}/>\n\t\t\t<Persik id='persik' go={go} />\n\t\t\t<Auth id='auth' go={go} goes={goes} fetch_user={fetch_user} fetch_avatar={fetch_avatar} fetch_ranking={fetch_ranking} promoBannerProps={promoBannerProps} pop={pop} acti={acti} shareStory={shareStory} />\n\t\t\t<Story id='story' shareStory={shareStory} acti={acti}/>\n\t\t</View>\n\t);\n}\n\nexport default App;\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n","module.exports = __webpack_public_path__ + \"static/media/persik.4e1ec840.png\";"],"sourceRoot":""}